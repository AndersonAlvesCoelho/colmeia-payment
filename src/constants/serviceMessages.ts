import { EnumSection } from '@/@types/enum.type';

const pgErrorMessages: Record<string, string> = {
  //  Classe 01 — Avisos
  '01000': 'Aviso geral (a operação foi concluída, mas com observações).',
  '0100C': 'A consulta retornou mais de um conjunto de resultados.',
  '01008': 'Ajuste automático feito em dados binários.',
  '01003': 'Um valor vazio (nulo) foi ignorado no cálculo.',
  '01007': 'Permissão necessária não foi concedida.',
  '01006': 'Uma permissão não pôde ser removida.',
  '01004': 'Um texto foi cortado porque era maior que o limite permitido.',
  '01P01': 'Foi usado um recurso antigo/obsoleto.',
  //  Classe 02 — Sem dados
  '02000': 'Nenhum dado encontrado.',
  '02001': 'Nenhum resultado extra retornado.',
  //  Classe 03 — SQL ainda não concluído
  '03000': 'O comando SQL ainda não está completo.',
  //  Classe 08 — Erros de conexão
  '08000': 'Erro de conexão com o banco de dados.',
  '08003': 'A conexão não existe ou foi encerrada.',
  '08006': 'Falha na conexão.',
  '08001': 'O cliente não conseguiu se conectar ao servidor.',
  '08004': 'O servidor recusou a conexão.',
  '08007': 'Estado da transação desconhecido.',
  '08P01': 'Problema no protocolo de comunicação.',
  //  Classe 09 — Ação disparada
  '09000': 'Erro em uma ação automática (trigger).',
  //  Classe 0A — Funcionalidade não suportada
  '0A000': 'Esse recurso não é suportado pelo banco de dados.',
  //  Classe 0B — Transação inválida
  '0B000': 'Não foi possível iniciar a transação.',
  //  Classe 0F — Erros de localizador
  '0F000': 'Erro em identificador de objeto.',
  '0F001': 'Identificador de objeto inválido.',
  //  Classe 0L — Concessão de permissões
  '0L000': 'Usuário que concedeu a permissão é inválido.',
  '0LP01': 'Operação de concessão inválida.',
  //  Classe 0P — Papel/função inválida
  '0P000': 'Função ou papel de usuário inválido.',
  //  Classe 0Z — Diagnóstico
  '0Z000': 'Erro de diagnóstico interno.',
  '0Z002': 'Tentativa de acessar erro interno sem manipulador ativo.',
  //  Classe 20 — Caso não encontrado
  '20000': 'Nenhum caso correspondente foi encontrado.',
  //  Classe 21 — Cardinalidade
  '21000': 'Foi retornado mais (ou menos) dados do que o esperado.',
  //  Classe 22 — Erros de dados
  '22000': 'Erro de dados genérico.',
  '2202E': 'Posição de array inválida.',
  '22021': 'Caractere inválido.',
  '22008': 'Valor de data/hora fora do limite permitido.',
  '22012': 'Tentativa de dividir por zero.',
  '22005': 'Erro ao atribuir valor.',
  '2200B': 'Conflito com caractere de escape.',
  '22022': 'Valor numérico muito grande para armazenar.',
  '22015': 'Valor de intervalo fora do limite.',
  '2201E': 'Argumento inválido para logaritmo.',
  '22014': 'Argumento inválido em função estatística.',
  '22016': 'Argumento inválido em função matemática.',
  '2201F': 'Argumento inválido para potência.',
  '2201G': 'Argumento inválido em função de agrupamento.',
  '22018': 'Valor de caractere não pode ser convertido.',
  '22007': 'Data/hora em formato inválido.',
  '22019': 'Caractere de escape inválido.',
  '2200D': 'Código de caractere inválido.',
  '22025': 'Sequência de escape inválida.',
  '22P06': 'Uso não padrão de caractere de escape.',
  '22010': 'Valor de parâmetro inválido.',
  '22023': 'Parâmetro inválido.',
  '22013': 'Valor de tamanho inválido.',
  '2201B': 'Expressão regular inválida.',
  '2201W': 'Número de linhas inválido em LIMIT.',
  '2201X': 'Número de linhas inválido em OFFSET.',
  '2202H': 'Argumento inválido em TABLESAMPLE.',
  '2202G': 'Repetição inválida em TABLESAMPLE.',
  '22009': 'Valor de fuso horário inválido.',
  '2200C': 'Uso inválido de caractere de escape.',
  '2200G': 'Tipos de dados incompatíveis.',
  '22004': 'Campo obrigatório não pode ser vazio.',
  '22002': 'Valor nulo sem parâmetro definido.',
  '22003': 'Número fora do limite permitido.',
  '2200H': 'Sequência numérica excedeu limite.',
  '22026': 'Tamanho do texto incompatível.',
  '22001': 'Texto muito longo (foi cortado).',
  '22011': 'Erro ao extrair substring.',
  '22027': 'Erro ao cortar texto (trim).',
  '22024': 'String sem fechamento correto.',
  '2200F': 'String vazia.',
  '22P01': 'Erro de ponto flutuante.',
  '22P02': 'Valor de texto inválido.',
  '22P03': 'Valor binário inválido.',
  '22P04': 'Formato de arquivo inválido na cópia.',
  '22P05': 'Caractere não pode ser convertido.',
  '2200L': 'Documento não é XML válido.',
  '2200M': 'Documento XML inválido.',
  '2200N': 'Conteúdo XML inválido.',
  '2200S': 'Comentário XML inválido.',
  '2200T': 'Instrução XML inválida.',
  '22030': 'Chave duplicada em JSON.',
  '22031': 'Argumento inválido em JSON datetime.',
  '22032': 'Texto JSON inválido.',
  '22033': 'Índice JSON inválido.',
  '22034': 'Mais de um item JSON encontrado.',
  '22035': 'Nenhum item JSON encontrado.',
  '22036': 'Item JSON não é numérico.',
  '22037': 'Chaves duplicadas em JSON.',
  '22038': 'Item JSON único obrigatório.',
  '22039': 'Array JSON não encontrado.',
  '2203A': 'Membro JSON não encontrado.',
  '2203B': 'Número JSON não encontrado.',
  '2203C': 'Objeto JSON não encontrado.',
  '2203D': 'Muitos elementos em array JSON.',
  '2203E': 'Muitos membros em objeto JSON.',
  '2203F': 'Valor JSON escalar obrigatório.',
  '2203G': 'Item JSON não pode ser convertido.',
  //  Classe 23 — Restrições de integridade
  '23000': 'Erro de integridade dos dados.',
  '23001': 'Ação não permitida por restrição.',
  '23502': 'Campo obrigatório não preenchido.',
  '23503': 'Registro relacionado não existe (chave estrangeira inválida).',
  '23505': 'Já existe um registro com esse valor (deveria ser único).',
  '23514': 'Valor não atende a uma regra de validação.',
  '23P01': 'Regra de exclusão violada.',
  // Classe 24 — Estado do cursor inválido
  '24000': 'Estado do cursor inválido.',
  // Classe 25 — Estado de transação inválido
  '25000': 'Transação inválida.',
  '25001': 'Já existe uma transação SQL ativa.',
  '25002': 'Transação secundária já está ativa.',
  '25008': 'Cursor existente exige o mesmo nível de isolamento.',
  '25003': 'Modo de acesso inadequado para a transação secundária.',
  '25004': 'Nível de isolamento inadequado para a transação secundária.',
  '25005': 'Não há transação ativa para a transação secundária.',
  '25006': 'Transação somente leitura.',
  '25007': 'Mistura de instruções de schema e dados não suportada.',
  '25P01': 'Não há transação ativa.',
  '25P02': 'Falha em transação SQL.',
  '25P03': 'Tempo limite de inatividade da sessão de transação atingido.',
  '25P04': 'Tempo limite de transação atingido.',
  // Classe 26 — Nome de comando SQL inválido
  '26000': 'Nome da instrução SQL inválido.',
  // Classe 27 — Violação de alteração de dados por trigger
  '27000': 'Alteração de dados não permitida devido a trigger.',
  // Classe 28 — Autorização inválida
  '28000': 'Especificação de autorização inválida.',
  '28P01': 'Senha inválida.',
  // Classe 2B — Dependências ainda existem
  '2B000': 'Existem privilégios dependentes ainda ativos.',
  '2BP01': 'Existem objetos dependentes ainda ativos.',
  // Classe 2D — Término de transação inválido
  '2D000': 'Término de transação inválido.',
  // Classe 2F — Exceções em rotinas SQL
  '2F000': 'Exceção em rotina SQL.',
  '2F005': 'Função executada sem return.',
  '2F002': 'Não é permitido modificar dados SQL.',
  '2F003': 'Tentativa de executar comando proibido.',
  '2F004': 'Leitura de dados SQL não permitida.',
  // Classe 34 — Nome de cursor inválido
  '34000': 'Nome de cursor inválido.',
  // Classe 38 — Exceção em rotina externa
  '38000': 'Exceção em rotina externa.',
  '38001': 'SQL contido não permitido.',
  '38002': 'Modificação de dados não permitida.',
  '38003': 'Comando SQL proibido.',
  '38004': 'Leitura de dados não permitida.',
  // Classe 39 — Invocação de rotina externa
  '39000': 'Erro ao invocar rotina externa.',
  '39001': 'Código SQL retornado inválido.',
  '39004': 'Valor nulo não permitido.',
  '39P01': 'Protocolo de trigger violado.',
  '39P02': 'Protocolo SRF violado.',
  '39P03': 'Protocolo de evento violado.',
  // Classe 3B — Savepoint
  '3B000': 'Erro em savepoint.',
  '3B001': 'Savepoint inválido.',
  // Classe 3D — Catalog
  '3D000': 'Nome de catálogo inválido.',
  // Classe 3F — Schema
  '3F000': 'Nome de schema inválido.',
  // Classe 40 — Rollback de transação
  '40000': 'Transação revertida.',
  '40002': 'Rollback devido a violação de integridade do {section}.',
  '40001': 'Falha de serialização da transação.',
  '40003': 'Conclusão da instrução desconhecida.',
  '40P01': 'Deadlock detectado.',
  // Classe 42 — Erro de sintaxe ou regra de acesso
  '42000': 'Erro de sintaxe ou regra de acesso.',
  '42601': 'Erro de sintaxe.',
  '42501': 'Privilégio insuficiente.',
  '42846': 'Não é possível converter tipos.',
  '42803': 'Erro em operação de agrupamento.',
  '42P20': 'Erro em operação de janela (windowing).',
  '42P19': 'Recursão inválida.',
  '42830': 'Chave estrangeira inválida.',
  '42602': 'Nome inválido.',
  '42622': 'Nome muito longo.',
  '42939': 'Nome reservado.',
  '42804': 'Incompatibilidade de tipos de dados.',
  '42P18': 'Tipo de dado indeterminado.',
  '42P21': 'Incompatibilidade de collation.',
  '42P22': 'Collation indeterminado.',
  '42809': 'Tipo de objeto incorreto.',
  '428C9': 'Gerado sempre (generated always).',
  '42703': 'Coluna indefinida.',
  '42883': 'Função indefinida.',
  '42P01': 'Tabela indefinida.',
  '42P02': 'Parâmetro indefinido.',
  '42704': 'Objeto indefinido.',
  '42701': 'Coluna duplicada.',
  '42P03': 'Cursor duplicado.',
  '42P04': 'Banco de dados duplicado.',
  '42723': 'Função duplicada.',
  '42P05': 'Prepared statement duplicado.',
  '42P06': 'Schema duplicado.',
  '42P07': 'Tabela duplicada.',
  '42712': 'Alias duplicado.',
  '42710': 'Objeto duplicado.',
  '42702': 'Coluna ambígua.',
  '42725': 'Função ambígua.',
  '42P08': 'Parâmetro ambíguo.',
  '42P09': 'Alias ambíguo.',
  '42P10': 'Referência de coluna inválida.',
  '42611': 'Definição de coluna inválida.',
  '42P11': 'Definição de cursor inválida.',
  '42P12': 'Definição de banco de dados inválida.',
  '42P13': 'Definição de função inválida.',
  '42P14': 'Definição de prepared statement inválida.',
  '42P15': 'Definição de schema inválida.',
  '42P16': 'Definição de tabela inválida.',
  '42P17': 'Definição de objeto inválida.',
  // Classe 44 — WITH CHECK OPTION Violation
  '44000': 'Violação de WITH CHECK OPTION no {section}.',
  // Classe 53 — Recursos insuficientes
  '53000': 'Recursos insuficientes.',
  '53100': 'Espaço em disco insuficiente.',
  '53200': 'Memória insuficiente.',
  '53300': 'Muitas conexões abertas.',
  '53400': 'Limite de configuração excedido.',
  // Classe 54 — Limite de programa excedido
  '54000': 'Limite de programa excedido.',
  '54001': 'Instrução muito complexa.',
  '54011': 'Muitas colunas.',
  '54023': 'Muitos argumentos.',
  // Classe 55 — Objeto não pronto
  '55000': 'Objeto não está pronto.',
  '55006': 'Objeto em uso.',
  '55P02': 'Não é possível alterar parâmetro em execução.',
  '55P03': 'Bloqueio não disponível.',
  '55P04': 'Uso inseguro de novo valor de enum.',
  // Classe 57 — Intervenção do operador
  '57000': 'Intervenção do operador.',
  '57014': 'Consulta cancelada.',
  '57P01': 'Servidor desligando.',
  '57P02': 'Servidor caiu.',
  '57P03': 'Não é possível conectar agora.',
  '57P04': 'Banco de dados removido.',
  '57P05': 'Tempo limite de sessão ociosa.',
  // Classe 58 — Erro de sistema
  '58000': 'Erro de sistema.',
  '58030': 'Erro de entrada/saída.',
  '58P01': 'Arquivo indefinido.',
  '58P02': 'Arquivo duplicado.',
  // Classe F0 — Erro de configuração
  F0000: 'Erro no arquivo de configuração.',
  F0001: 'Arquivo de bloqueio existente.',
  // Classe HV — Erro FDW
  HV000: 'Erro no Foreign Data Wrapper (FDW).',
  HV005: 'Coluna FDW não encontrada.',
  HV002: 'Parâmetro dinâmico FDW necessário.',
  HV010: 'Erro na sequência de funções FDW.',
  HV021: 'Informações inconsistentes do descritor FDW.',
  HV024: 'Valor de atributo inválido no FDW.',
  HV007: 'Nome de coluna FDW inválido.',
  HV008: 'Número de coluna FDW inválido.',
  HV004: 'Tipo de dado FDW inválido.',
  HV006: 'Descritor de tipo FDW inválido.',
  HV091: 'Campo de descritor FDW inválido.',
  HV00B: 'Handle FDW inválido.',
  HV00C: 'Índice de opção FDW inválido.',
  HV00D: 'Nome de opção FDW inválido.',
  HV090: 'Tamanho de string FDW inválido.',
  HV00A: 'Formato de string FDW inválido.',
  HV009: 'Uso de ponteiro nulo FDW inválido.',
  HV014: 'Muitos handles FDW.',
  HV001: 'Memória insuficiente FDW.',
  HV00P: 'Sem schemas FDW.',
  HV00J: 'Opção FDW não encontrada.',
  HV00K: 'Handle de reply FDW.',
  HV00Q: 'Schema FDW não encontrado.',
  HV00R: 'Tabela FDW não encontrada.',
  HV00L: 'Não foi possível criar execução FDW.',
  HV00M: 'Não foi possível criar reply FDW.',
  HV00N: 'Não foi possível estabelecer conexão FDW.',
  // Classe P0 — Erro PL/pgSQL
  P0000: 'Erro PL/pgSQL.',
  P0001: 'Exceção levantada.',
  P0002: 'Nenhum dado encontrado.',
  P0003: 'Muitas linhas retornadas.',
  P0004: 'Falha em assert.',
  // Classe XX — Erro interno
  XX000: 'Erro interno.',
  XX001: 'Dados corrompidos.',
  XX002: 'Índice corrompido.',
};

export function translatePgError(
  code: string,
  section: EnumSection,
  message: string
): string {
  const template = pgErrorMessages[code];
  if (!template) {
    return (
      message || `Ocorreu um erro inesperado (${code}) ao processar ${section}.`
    );
  }
  return template.replace('{section}', section);
}
